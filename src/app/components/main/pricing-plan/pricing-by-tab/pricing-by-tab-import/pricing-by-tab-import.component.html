<div class="card">
    <div class="card-header">
        <p class="h4 font-weight-light d-inline">
            Upload on portal
        </p>
    </div>

    <mat-horizontal-stepper [linear]="isLinear" #stepper labelPosition="bottom">
        <div class="card-body">
            <mat-step [stepControl]="formNameGroup" label="Set Price Key, Start/End Dates:">
                <div style="padding-top: 2%;">
                    <form [formGroup]="formNameGroup">
                        <!-- <ng-template matStepLabel>Name</ng-template> -->
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <label for=""><i class="text-red">*</i> Price Key:</label>
                                    <input type="text" formControlName="pricekey" class="form-control form-control-sm"
                                        placeholder="Price Key">

                                </div>
                                <div class="col">
                                    <label for=""><i class="text-red">*</i> Start Date:</label>
                                    <input type="date" formControlName="startDate" class="form-control form-control-sm"
                                        placeholder="Start Date">
                                </div>
                                <div class="col">
                                    <label for=""><i class="text-red">*</i> End Date:</label>
                                    <input type="date" formControlName="endDate"
                                        [min]="formNameGroup.controls.startDate.value"
                                        class="form-control form-control-sm" placeholder="End Date">
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="d-inline">
                                <button mat-button class="btn btn-sm btn-p" matStepperNext>Next</button>
                                <button mat-button class="btn btn-sm btn-light mr-2 cancle-btn"
                                    (click)="backToMain()">Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>
            </mat-step>

            <mat-step [stepControl]="formPasswordGroup" label="Import Engage Customers">
                <div style="padding-top: 3%;">
                    <form [formGroup]="formPasswordGroup" *ngIf="!isPreview">
                        <!-- <ng-template matStepLabel>Name</ng-template> -->
                        <div>
                            <p class="font-medium">
                                Upload the PDF file for the customer which you want to generate the order
                            </p>
                        </div>
                        <div class="row">
                            <div class="col-lg-4"> <label>Upload Files : </label></div>
                            <div class="col-lg-8">
                                <input style="display: none" type="file" (change)="onSelectFile($event)"
                                    formControlName="customer_file" name="customer_file"
                                    [(ngModel)]="importFile.customer_file" #file required>
                                <button class="btn btn-sm btn-p" *ngIf='!(filesList.length > 0)'
                                    (click)="file.click()">Upload
                                    file</button>
                                <span *ngIf='!(filesList.length > 0)'>No file selected</span>
                                <mat-chip-list #chipList aria-label="selection" *ngIf='(filesList.length > 0)'>
                                    <mat-chip *ngFor="let file of filesList" [removable]="removable"
                                        (removed)="remove(file)">
                                        {{file.name}}
                                        <mat-icon matChipRemove *ngIf="removable">Cancel</mat-icon>
                                    </mat-chip>
                                </mat-chip-list>
                                <div class="font-style"> <small> Maximum File Size: 5 MB
                                    </small>&nbsp;|&nbsp;
                                    <small> File Format:
                                        Pdf </small>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="card-footer">
                            <div class="d-inline">
                                <button mat-button class="btn btn-sm btn-light mr-2 cancle-btn"
                                    matStepperPrevious>Back</button>
                                <button mat-button class="btn btn-sm btn-p" type="submit"
                                    (click)="importData()">Submit</button>
                            </div>
                        </div>
                    </form>
                    <div class="card-body" [hidden]="!isPreview">
                        <div class="row">
                            <div class="col-12 table-scroll">
                                <div class="mat-elevation-z8">
                                    <table mat-table [dataSource]="tableList">

                                        <!-- ID Column -->
                                        <ng-container matColumnDef="itemCode">
                                            <th mat-header-cell *matHeaderCellDef> Item Code </th>
                                            <td mat-cell *matCellDef="let row"> {{row.item}} </td>
                                        </ng-container>

                                        <!-- Progress Column -->
                                        <ng-container matColumnDef="itemDescription">
                                            <th mat-header-cell *matHeaderCellDef> Item Description </th>
                                            <td mat-cell *matCellDef="let row"> {{row.item_name}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="itemUom">
                                            <th mat-header-cell *matHeaderCellDef> Item UOM </th>
                                            <td mat-cell *matCellDef="let row"> {{row.item_uom}} </td>
                                        </ng-container>

                                        <!-- Name Column -->
                                        <ng-container matColumnDef="customerCode">
                                            <th mat-header-cell *matHeaderCellDef> Customer Code </th>
                                            <td mat-cell *matCellDef="let row"> {{row.Customer_code}} </td>
                                        </ng-container>

                                        <!-- Fruit Column -->
                                        <ng-container matColumnDef="customerName">
                                            <th mat-header-cell *matHeaderCellDef> Customer Name </th>
                                            <td mat-cell *matCellDef="let row"> {{row.customer_name}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="price">
                                            <th mat-header-cell *matHeaderCellDef> Price </th>
                                            <td mat-cell *matCellDef="let row"> {{row.price}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="startDate">
                                            <th mat-header-cell *matHeaderCellDef> Start Date </th>
                                            <td mat-cell *matCellDef="let row"> {{row.start_date}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="endDate">
                                            <th mat-header-cell *matHeaderCellDef> End Date </th>
                                            <td mat-cell *matCellDef="let row"> {{row.end_date}} </td>
                                        </ng-container>

                                        <ng-container matColumnDef="pricingKey">
                                            <th mat-header-cell *matHeaderCellDef> Pricing Key </th>
                                            <td mat-cell *matCellDef="let row"> {{row.key}} </td>
                                        </ng-container>

                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                                        <!-- Row shown when there is no matching data. -->
                                        <!-- <tr class="mat-row" *matNoDataRow>
                                        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                                      </tr> -->
                                    </table>

                                    <mat-paginator aria-label="Select page of users" [pageSize]='10'
                                        showFirstLastButtons [pageSizeOptions]="[10,20,30]"></mat-paginator>
                                </div>
                                <!-- <table class="invoice-table cardtable table ">
                                    <thead>
                                        <tr>
                                            <th class="head">Item Code</th>
                                            <th class="head">Item Description</th>
                                            <th class="head">Customer Code</th>
                                            <th class="head">Customer Name</th>
                                            <th class="head">Price</th>
                                            <th class="head">Start Date</th>
                                            <th class="head">End Date</th>
                                            <th class="head">Pricing Key</th>
                                        </tr>
                                    </thead>
                                    <tbody class="form-body">
                                        <tr class="item-row" *ngFor="let list of tableList;let i = index ">
                                            <td data-th="#" class="center"><span>{{ i + 1 }}</span> </td>
                                            <td>{{list.item}}</td>
                                            <td>{{list.item_name}}</td>
                                            <td>{{list.Customer_code}}</td>
                                            <td>{{list.customer_name}}</td>
                                            <td>{{list.price}}</td>
                                            <td>{{list.start_date}}</td>
                                            <td>{{list.end_date}}</td>
                                            <td>{{list.key}}</td>
                                        </tr>
                                    </tbody>
                                </table> -->
                            </div>
                        </div>
                        <div class="card-footer">
                            <div class="d-inline">
                                <button mat-button matStepperPrevious class="btn btn-sm btn-light mr-2">Back</button>
                                <button mat-button class="btn btn-sm btn-p" type="submit"
                                    (click)="submitFile()">Submit</button>
                                <button class="btn btn-sm btn-light mr-2" (click)="backToMain()">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>

            </mat-step>
        </div>




        <!-- <ng-template matStepperIcon="phone">
      <mat-icon>phone</mat-icon>
  </ng-template> -->

    </mat-horizontal-stepper>
</div>
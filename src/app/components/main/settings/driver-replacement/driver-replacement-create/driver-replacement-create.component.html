<div class="card">
    <div class="card-header pt-4">
        <span class="h6 font-weight-bold text-secondary">{{formType}} Driver Replacement</span>
        <a (click)="close()" class="closeicon settingclose"><i class="os-icon os-icon-x text-secondary float-right"
                aria-hidden="true"></i></a>
    </div>
    <div class="form-box">
        <div class="container " style="padding: 20px;">
            <div class="row mb-4">
                <div class="col-md-4 "> For</div>
                <div class="col-md-4">
                    <p class="radio">
                        <label class="radio-box mat-style">
                            <span class="radio-label">Salesman</span>
                            <input type="radio" value="1" [(ngModel)]="selectedValue"
                                (change)="changeType($event.target.value)">
                            <span class="radiomark"></span>
                        </label>
                    </p>
                </div>

                <div class="col-md-4">
                    <p class="radio">
                        <label class="radio-box mat-style">
                            <span class="radio-label">Van</span>
                            <input type="radio" value="0" [(ngModel)]="selectedValue"
                                (change)="changeType($event.target.value)">
                            <span class="radiomark"></span>
                        </label>
                    </p>
                </div>
            </div>
            <form [formGroup]="replacementSalesmenForm" *ngIf="selectedValue==='1'">

                <div class="row mb-4">
                    <div class="col-md-4 "> Date*</div>
                    <div class="col-md-8">
                        <input type="date" formControlName="startdate" class="form-control form-control-sm"
                            placeholder="Start Date" (change)="getOrderList($event)">
                    </div>
                </div>
                <div class="row mb-4">
                  <div class="col-md-4 "> Branch*</div>
                  <div class="col-md-8">
                      <!-- <app-multiautocomplete isSingle="false" [options]="orders"
                          [control]="replacementSalesmenForm.controls['order_id']" text="order_number" id="order_id"
                          objectName="root" param1="order_number" placeholder="Search Order No">
                      </app-multiautocomplete> -->
                      <angular2-multiselect [data]="storageLocation" [ngModel]="selectedItems" [settings]="dropdownSettings2"
                      (onSelect)="onItemSelect($event)" (onDeSelect)="OnItemDeSelect($event)" (onSelectAll)="onSelectAll($event)"
                      (onDeSelectAll)="onDeSelectAll($event)" [formControl]="replacementSalesmenForm.controls['branch_plant_code']">
                  </angular2-multiselect>
                      <!-- <app-multiautocomplete isSingle="true" [options]="storageLocation"
                      [control]="replacementSalesmenForm.controls['branch_plant_code']" text="name"
                      param="id" param1="code" param2="name" objectName="code-root" id="id">
                    </app-multiautocomplete> -->
                  </div>
              </div>
                <div class="row mb-4">
                    <div class="col-md-4 "> Order*</div>
                    <div class="col-md-8">
                        <!-- <app-multiautocomplete isSingle="false" [options]="orders"
                            [control]="replacementSalesmenForm.controls['order_id']" text="order_number" id="order_id"
                            objectName="root" param1="order_number" placeholder="Search Order No">
                        </app-multiautocomplete> -->

                        <angular2-multiselect  formControlName="order_id" [data]="ordersData" [(ngModel)]="selectedOrders"
    [settings]="dropdownSettings"
   ></angular2-multiselect>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="salesmanList?.length>0">
                    <div class="col-md-4 "> Select Old Salesman*</div>
                    <div class="col-md-8">
                        <app-multiautocomplete isSingle="true" [options]="salesmanList"
                            [control]="replacementSalesmenForm.controls['old_salesman_id']" text="" id="user_id"
                            objectName="user" param1="firstname" param2="lastname" placeholder="Search Salesman">
                        </app-multiautocomplete>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="salesmanList?.length>0">
                    <div class="col-md-4 ">Select New Salesman*</div>
                    <div class="col-md-8">

                        <app-multiautocomplete isSingle="true" [options]="salesmanList"
                            [control]="replacementSalesmenForm.controls['new_salesman_id']" text="" id="user_id"
                            objectName="user" param1="firstname" param2="lastname" placeholder="Search Salesman">
                        </app-multiautocomplete>

                    </div>
                </div>
                <div class="row mb-4" *ngIf="reasonList?.length>0">
                    <div class="col-md-4 ">Select Reason*</div>
                    <div class="col-md-8">
                        <app-multiautocomplete isSingle="true" [options]="reasonList"
                            [control]="replacementSalesmenForm.controls['reason_id']" ext="name" id="id"
                            objectName="reason-root" param1="code" param2="name" placeholder="Search Reason">
                        </app-multiautocomplete>
                        <!-- <select formControlName="reason_id" class="form-control form-control-sm">
                            <option value="" disabled>Select Reason</option>
                            <option *ngFor="let rl of reasonList" [value]="rl.id">{{rl.name}}</option>
                        </select> -->
                    </div>
                </div>
                <div class="row  mb-4 ">
                    <div class="col-md-12" style="display: flex; justify-content: flex-end;">
                        <button class="btn btn-sm btn-light mr-2" (click)="close()">Cancel</button>
                        <button class="btn btn-sm btn-p" [disabled]="replacementSalesmenForm.invalid"
                            (click)="saveReplacement()">Replace</button>
                    </div>
                </div>
            </form>
            <form [formGroup]="replacementVanForm" *ngIf="selectedValue==='0'">

                <div class="row mb-4">
                    <div class="col-md-4 "> Date*</div>
                    <div class="col-md-8">
                        <input type="date" formControlName="startdate" class="form-control form-control-sm"
                            placeholder="Start Date" (change)="getOrderList($event)">
                    </div>
                </div>
                <div class="row mb-4">
                    <div class="col-md-4 "> Order*</div>
                    <div class="col-md-8">

                        <app-multiautocomplete isSingle="true" [options]="orders"
                            [control]="replacementVanForm.controls['order_id']" text="order_number" id="order_id"
                            objectName="root" param1="order_number" placeholder="Search Order No">
                        </app-multiautocomplete>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="vehicleList?.length>0">
                    <div class="col-md-4 "> Select Old Van*</div>
                    <div class="col-md-8">
                        <select formControlName="old_van_id" class="form-control form-control-sm">
                            <option *ngFor="let van of vehicleList" [value]="van.id">
                                {{ van.description }} {{"-"}} {{ van.van_code }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="vehicleList?.length>0">
                    <div class="col-md-4 ">Select New Van*</div>
                    <div class="col-md-8">
                        <select formControlName="new_van_id" class="form-control form-control-sm">
                            <option *ngFor="let van of vehicleList" [value]="van.id">
                                {{ van.description }} {{"-"}} {{ van.van_code }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="row mb-4" *ngIf="reasonList?.length>0">
                    <div class="col-md-4 ">Select Reason*</div>
                    <div class="col-md-8">
                        <app-multiautocomplete isSingle="true" [options]="reasonList"
                            [control]="replacementVanForm.controls['reason_id']" text="name" id="id"
                            objectName="reason-root" param1="code" param2="name" placeholder="Search Reason">
                        </app-multiautocomplete>
                    </div>
                </div>

                <div class="row  mb-4 ">
                    <div class="col-md-12" style="   display: flex; justify-content: flex-end;">
                        <button class="btn btn-sm btn-light mr-2" (click)="close()">Cancel</button>
                        <button class="btn btn-sm btn-p" [disabled]="replacementVanForm.invalid"
                            (click)="saveReplacement()">Replace</button>
                    </div>
                </div>
            </form>
        </div>

    </div>


</div>
